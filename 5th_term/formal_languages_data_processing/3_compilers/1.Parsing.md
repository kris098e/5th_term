[[09.pdf]]
[[2.1_bison_parsing]] `is very good as well to see the prescedense rules`
# Example
run `bison --defines --report=all FILENAME.y`
```c
%{
#include <stdio.h>

extern char *yytext;

int yylex();

void yyerror() {
   printf("syntax error before %s\n",yytext); 
}
%}

%union {
   int intconst;
   char *stringconst;
}

%token <intconst> tINTCONST
%token <stringconst> tIDENTIFIER 

%start exp

%left '+' '-'
%left '*' '/'

%% 
exp : tIDENTIFIER { printf("push %s\n", $1); }
    | tINTCONST   { printf("push %i\n", $1); }
    | exp '*' exp { printf("mul\n"); }
    | exp '/' exp { printf("div\n"); }
    | exp '+' exp { printf("add\n"); }
    | exp '-' exp { printf("sub\n"); }
    | '(' exp ')' {}
;

%%
```

Remember to use the `--define` for `Bison` to get `y.tab.h`.
```c
%{
#include "y.tab.h"
#include <string.h>
extern int fileno();
%}

%option noyywrap nounput noinput

%%
[ \t\n]+        /* ignore */;

"*"             return '*';
"/"             return '/';
"+"             return '+';
"-"             return '-';
"("             return '(';
")"             return ')';

0|([1-9][0-9]*) { 
                  yylval.intconst = atoi(yytext);
                  return tINTCONST; 
                }

[a-zA-Z_][a-zA-Z0-9_]* {
                  yylval.stringconst = (char *) malloc(strlen(yytext) + 1);
                  sprintf(yylval.stringconst, "%s", yytext); 
                  return tIDENTIFIER;
                }
.               /* ignore */;
%%
```