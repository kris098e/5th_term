# Kleinberg Tardos
## Find the median.
- in essence what we do is that we look at the running time of setting the call up, where we do `n` comparisons. Then if we can gurantee that we work on some size of a set the next time, we can also analyze how much time is spent there. We end up with seeing that for finding the median, we use `o(n)` time. 
- now we also have to gurantee with some probability that the size of the set we work on after using the first pivot, is at a reasonable size (in this case we use that it is $\leq \frac{2}{3}n$ ). 
- then we calculate the expected number of tries before finding the correct pivot that will remove at least $\frac{1}{3}$ of the set.


![[Pasted image 20231031062454.png]]
![[Pasted image 20231031062421.png]]
Basically, if $a_{i}$ is the median, then return it. Else, if $s^-$ is larger than `k` we just keep searching in $S^-$, else we look in $s^+$ where we have removed the elements we have removed.
![[Pasted image 20231031063442.png]]
- The ideal situtation is to work on the smallest set possible, meaning that we want to remove as much as possible in the last iteration. Therefore, the ideal situation is if the two sets are approximately the same size. this is because:
	- if we fx have 10 elements. $s^-=2$ $s^+=7$, then we will only remove 2, as we have to find the median in $s^+$
- The work doneÂ for $T(n)$ is then the work we do to setup for the recursive call, i.e make the sets $s^{+}, s^-$, + the work we have to do for the next iteration, where we cut of the minimum size, $\epsilon n$ so the set we work now is $(1-\epsilon) n$ big.
![[Pasted image 20231031065338.png]]
- This showcases the sorted scenario
	- if we choose something at the beginning of `central` then we have removed `1/4`, i.e the left red box and continue with `central + right_box`. 
	- The probability of picking something in `central=0.5`.
![[Pasted image 20231031065940.png]]
- phase `j`: After running the recursive calls `j` times, how big the actual set.
	- look at the green inequality. Of course the new set is $\leq \frac{3}{4}\mid S'\mid$ as we are with a high probability removing $\frac{3}{4}$ of the elements.
![[Pasted image 20231031070301.png]]
Since we just make a random indicator variable. probability is $\frac{1}{2}$ for success, and we can end up picking infinitely many times.
![[Pasted image 20231031070607.png]]
We do the expected number of tries to remove $\frac{1}{4}$ of the set in each phase (**we dont move to a new phase, j+1 before we have removed $\frac{1}{4}$ of the elements**). We can of course also be lucky and choose very good pivots where we remove approximately $\frac{1}{2}$ of set, and move to fx phase $j+3$.
![[Pasted image 20231031071634.png]]
- Note: we do not put upper bound, since we dont know how many phases we will do.
- We use $\leq$ since we may not do $2$ steps in each phase.
## Quicksort
![[Pasted image 20231031072355.png]]
### Prove how many problems we end up with.
I.e for each of the rounds, how much work is done in each recursive call, and how many recursive calls are there.
![[Pasted image 20231031072940.png]]![[Pasted image 20231031073116.png]]
![[Pasted image 20231031073245.png]]
- This is basically just seeing how many recursive calls, where we use `subproblems of type j` as the notion. so, as we do $O(n)$ in each phase, and we have `#subproblems of type j =`$\log_{\frac{1}{4}}n$ we have the expected running time of quicksort to be $O(n \cdot \log n)$ 

# Cormen
- Have to consider the sorted order to analyze the algorithm
another way to compute the expected number of comparisons, than what is proved in Kleinberg Tardos
![[Pasted image 20231031074255.png]]
- the note: remember that two elements can only be compared `once` as we only compare the pivot with the rest, and we then dont use the pivot again.
![[Pasted image 20231031074635.png]]
- If we do not choose $Z_{i}$ or $Z_{j}$ then they will never be compared. As this is in some assume to be sorted sequence. If we pick anything else, then they wont be in the same set again. 
- the probability of picking either `i, j` is $\frac{2}{size\ of\ Z_{ij}}$. 
![[Pasted image 20231031075032.png]]
![[Pasted image 20231031075228.png]]
![[Pasted image 20231031075245.png]]

